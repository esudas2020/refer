<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImageGrafix LMS - Complete Migration Plan to ASP.NET Core + Angular 19+</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: #0056b3;
            border-bottom: 3px solid #00a8e8;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 2.2em;
        }

        h2 {
            color: #0056b3;
            margin: 30px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        h3 {
            color: #00a8e8;
            margin: 25px 0 10px;
            font-size: 1.3em;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            font-weight: 600;
            margin-right: 10px;
        }

        .badge-blue {
            background: #0056b3;
            color: white;
        }

        .badge-orange {
            background: #ff6b35;
            color: white;
        }

        .badge-green {
            background: #28a745;
            color: white;
        }

        .badge-purple {
            background: #6f42c1;
            color: white;
        }

        .sprint-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .sprint-card {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            background: #f8f9fa;
            transition: transform 0.2s;
        }

        .sprint-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,86,179,0.1);
        }

        .sprint-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #0056b3;
        }

        .sprint-number {
            font-weight: 700;
            color: #0056b3;
        }

        .sprint-hours {
            background: #00a8e8;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .tech-stack {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 8px;
        }

        .tech-item {
            flex: 1;
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .tech-item h4 {
            color: #0056b3;
            margin-bottom: 10px;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 15px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        th {
            background: #0056b3;
            color: white;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .feature-list li:before {
            content: "‚úÖ";
            position: absolute;
            left: 0;
            color: #28a745;
        }

        .download-btn {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 12px 30px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            margin: 20px 0;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
        }

        .download-btn:hover {
            background: #218838;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ff6b35;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .architecture-diagram {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .arch-layer {
            flex: 1;
            text-align: center;
            padding: 20px;
            margin: 0 5px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .arch-arrow {
            font-size: 24px;
            color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container" id="download-content">
        <h1>üìö ImageGrafix LMS - Complete Enterprise Migration Plan</h1>
        
        <div class="note-box">
            <strong>üéØ Executive Summary:</strong> Complete migration from PHP/Forma LMS + AngularJS to <strong>ASP.NET Core 8 Web API + PostgreSQL + Angular 19+ with PrimeNG</strong>. 20 sprints of structured prompts for Cursor IDE.
        </div>

        <div class="architecture-diagram">
            <div class="arch-layer">
                <h3>üñ•Ô∏è Frontend</h3>
                <p>Angular 19+<br>PrimeNG Enterprise<br>Signals, Standalone</p>
            </div>
            <div class="arch-arrow">‚Üí</div>
            <div class="arch-layer">
                <h3>üîå API Layer</h3>
                <p>ASP.NET Core 8<br>JWT Auth, MediatR<br>SignalR, Hangfire</p>
            </div>
            <div class="arch-arrow">‚Üí</div>
            <div class="arch-layer">
                <h3>üóÑÔ∏è Database</h3>
                <p>PostgreSQL 15+<br>JSONB, Full-Text<br>Partitioning</p>
            </div>
        </div>

        <div class="tech-stack">
            <div class="tech-item">
                <h4>üé® Frontend</h4>
                <p>Angular 19+<br>PrimeNG<br>PrimeFlex<br>SignalR Client</p>
            </div>
            <div class="tech-item">
                <h4>‚öôÔ∏è Backend</h4>
                <p>ASP.NET Core 8<br>Entity Framework<br>JWT Authentication<br>SignalR</p>
            </div>
            <div class="tech-item">
                <h4>üìä Database</h4>
                <p>PostgreSQL 15<br>Redis Cache<br>Hangfire<br>EF Core</p>
            </div>
            <div class="tech-item">
                <h4>üöÄ DevOps</h4>
                <p>Docker<br>GitHub Actions<br>Nginx<br>Prometheus</p>
            </div>
        </div>

        <h2>üìã Combined Migration Plan - 20 Sprints</h2>
        <p><strong>Each sprint = 2 hours of Cursor IDE prompts for a senior developer</strong></p>

        <div class="sprint-grid">
            <!-- Sprint 1-2 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 1-2</span>
                    <span class="sprint-hours">Hours 0-4</span>
                </div>
                <h3>üóÑÔ∏è PostgreSQL Schema & Database Migration</h3>
                <p><strong>Backend Focus:</strong> Convert 200+ Doctrine entities to optimized PostgreSQL with JSONB, UUIDs, full-text search</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>PostgreSQL 15+ with UUID primary keys</li>
                    <li>JSONB fields for flexible metadata</li>
                    <li>GIN indexes for full-text search</li>
                    <li>Alembic/EF Core migrations</li>
                </ul>
            </div>

            <!-- Sprint 3-4 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 3-4</span>
                    <span class="sprint-hours">Hours 4-8</span>
                </div>
                <h3>üèóÔ∏è ASP.NET Core Backend Foundation</h3>
                <p><strong>Backend Focus:</strong> Clean architecture with MediatR, JWT authentication, EF Core</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Solution with Domain/Application/Infrastructure/API layers</li>
                    <li>JWT Bearer authentication</li>
                    <li>Global error handling middleware</li>
                    <li>Serilog logging to PostgreSQL</li>
                </ul>
            </div>

            <!-- Sprint 5-6 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 5-6</span>
                    <span class="sprint-hours">Hours 8-12</span>
                </div>
                <h3>üîê Identity & Authentication</h3>
                <p><strong>Backend Focus:</strong> ASP.NET Core Identity with JWT, refresh tokens, role-based auth</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>User registration/login with JWT</li>
                    <li>Refresh token rotation</li>
                    <li>Role-based authorization policies</li>
                    <li>Account lockout & 2FA ready</li>
                </ul>
            </div>

            <!-- Sprint 7-8 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 7-8</span>
                    <span class="sprint-hours">Hours 12-16</span>
                </div>
                <h3>üìñ Course Management API</h3>
                <p><strong>Backend + Frontend:</strong> Full course CRUD + Angular course catalog UI</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Backend: Course endpoints with filtering, pagination</li>
                    <li>Frontend: Course list with p-dataView</li>
                    <li>Advanced filtering with p-multiSelect</li>
                    <li>Course detail page with p-tabView</li>
                </ul>
            </div>

            <!-- Sprint 9-10 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 9-10</span>
                    <span class="sprint-hours">Hours 16-20</span>
                </div>
                <h3>üè≠ EAM Integration API</h3>
                <p><strong>Backend + Frontend:</strong> Assets, work orders, worker management</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Backend: Asset/WorkOrder entities with JSONB</li>
                    <li>Frontend: Work order dashboard with p-table</li>
                    <li>Asset management with p-orderList</li>
                    <li>Course assignment to work orders</li>
                </ul>
            </div>

            <!-- Sprint 11-12 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 11-12</span>
                    <span class="sprint-hours">Hours 20-24</span>
                </div>
                <h3>üé¨ SCORM Integration & Media</h3>
                <p><strong>Backend Focus:</strong> SCORM package processing, tracking</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>SCORM 1.2/2004 package processor</li>
                    <li>Hangfire background jobs for processing</li>
                    <li>Interaction tracking in PostgreSQL</li>
                    <li>Video player integration</li>
                </ul>
            </div>

            <!-- Sprint 13-14 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 13-14</span>
                    <span class="sprint-hours">Hours 24-28</span>
                </div>
                <h3>üìß Email & Notifications</h3>
                <p><strong>Backend + Frontend:</strong> SendGrid + SignalR real-time notifications</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Backend: SendGrid integration with templates</li>
                    <li>Frontend: SignalR client for real-time updates</li>
                    <li>Notification bell with p-badge</li>
                    <li>Email queue with Hangfire</li>
                </ul>
            </div>

            <!-- Sprint 15-16 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 15-16</span>
                    <span class="sprint-hours">Hours 28-32</span>
                </div>
                <h3>üìä Reporting & Analytics</h3>
                <p><strong>Backend + Frontend:</strong> Complex reporting with PostgreSQL analytics</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Backend: Analytics queries with date_trunc</li>
                    <li>Frontend: Charts with p-chart</li>
                    <li>Export to PDF/Excel</li>
                    <li>EAM compliance reporting</li>
                </ul>
            </div>

            <!-- Sprint 17-18 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 17-18</span>
                    <span class="sprint-hours">Hours 32-36</span>
                </div>
                <h3>üîí Security & Performance</h3>
                <p><strong>Backend Focus:</strong> Rate limiting, Redis caching, compiled queries</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>AspNetCoreRateLimit for API protection</li>
                    <li>Redis distributed caching</li>
                    <li>EF Core compiled queries</li>
                    <li>Security headers middleware</li>
                </ul>
            </div>

            <!-- Sprint 19-20 -->
            <div class="sprint-card">
                <div class="sprint-header">
                    <span class="sprint-number">Sprints 19-20</span>
                    <span class="sprint-hours">Hours 36-40</span>
                </div>
                <h3>üê≥ Docker & Production Deployment</h3>
                <p><strong>DevOps:</strong> Containerization, CI/CD, monitoring</p>
                <p><strong>Key Deliverables:</strong></p>
                <ul class="feature-list">
                    <li>Multi-stage Dockerfiles for all services</li>
                    <li>docker-compose with PostgreSQL, Redis, API, Nginx</li>
                    <li>GitHub Actions CI/CD pipeline</li>
                    <li>Health checks & Prometheus metrics</li>
                </ul>
            </div>
        </div>

        <h2>üé® Angular 19+ Frontend UI Components (PrimeNG)</h2>
        <table>
            <thead>
                <tr>
                    <th>Component</th>
                    <th>PrimeNG Element</th>
                    <th>Purpose</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Dashboard</td>
                    <td>p-chart, p-timeline, p-card</td>
                    <td>Analytics with line/bar charts, activity feed</td>
                </tr>
                <tr>
                    <td>Course Catalog</td>
                    <td>p-dataView, p-paginator, p-multiSelect</td>
                    <td>Grid/list view with advanced filtering</td>
                </tr>
                <tr>
                    <td>Course Player</td>
                    <td>p-tabView, p-accordion, p-progressBar</td>
                    <td>Video player with curriculum and notes</td>
                </tr>
                <tr>
                    <td>Work Orders</td>
                    <td>p-table, p-tag, p-progressBar</td>
                    <td>EAM work order management with status</td>
                </tr>
                <tr>
                    <td>User Management</td>
                    <td>p-table, p-avatar, p-chip</td>
                    <td>User list with inline editing</td>
                </tr>
                <tr>
                    <td>Reports</td>
                    <td>p-chart, p-table, p-listbox</td>
                    <td>Interactive reports with drill-down</td>
                </tr>
            </tbody>
        </table>

        <h2>üìÅ Project Structure</h2>
        <div class="code-block">
ImageGrafixLMS/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ ImageGrafixLMS.Domain/           # Entities, Enums, Interfaces
‚îÇ   ‚îú‚îÄ‚îÄ ImageGrafixLMS.Application/       # DTOs, Commands, Queries, MediatR
‚îÇ   ‚îú‚îÄ‚îÄ ImageGrafixLMS.Infrastructure/     # EF Core, Repositories, Email, Redis
‚îÇ   ‚îú‚îÄ‚îÄ ImageGrafixLMS.API/               # Controllers, Middleware, Program.cs
‚îÇ   ‚îî‚îÄ‚îÄ ImageGrafixLMS.Web/               # Angular 19+ frontend
‚îÇ       ‚îú‚îÄ‚îÄ src/app/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ core/                      # Services, guards, interceptors
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ shared/                     # Shared components
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ features/                    # Lazy-loaded modules
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ layouts/                      # Main, auth layouts
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ ImageGrafixLMS.UnitTests/
‚îÇ   ‚îî‚îÄ‚îÄ ImageGrafixLMS.IntegrationTests/
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îú‚îÄ‚îÄ nginx/
‚îÇ   ‚îî‚îÄ‚îÄ postgres/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ .github/workflows/deploy.yml
        </div>

        <h2>üîë Key Features Implemented</h2>
        <div class="sprint-grid">
            <div class="sprint-card">
                <h3>‚úÖ Complete PHP Elimination</h3>
                <ul class="feature-list">
                    <li>No Forma LMS dependencies</li>
                    <li>No Doctrine ORM</li>
                    <li>No PHP Mailer</li>
                    <li>Modern ASP.NET Core 8</li>
                </ul>
            </div>
            <div class="sprint-card">
                <h3>‚úÖ PostgreSQL Optimization</h3>
                <ul class="feature-list">
                    <li>JSONB for flexible schemas</li>
                    <li>Full-text search with GIN</li>
                    <li>UUID primary keys</li>
                    <li>Table partitioning ready</li>
                </ul>
            </div>
            <div class="sprint-card">
                <h3>‚úÖ Enterprise Security</h3>
                <ul class="feature-list">
                    <li>JWT with refresh tokens</li>
                    <li>Rate limiting</li>
                    <li>CSP Headers</li>
                    <li>GDPR compliance ready</li>
                </ul>
            </div>
        </div>

        <h2>üöÄ Getting Started with Cursor IDE</h2>
        <div class="code-block">
# For each sprint, use this prompt format in Cursor:

@Agent Using ASP.NET Core 8 and Angular 19+ with PrimeNG, 
[copy the sprint objective from above]

# Example for Sprint 1:
@Agent Create a PostgreSQL 15+ schema for an enterprise LMS with:
- UUID primary keys for all tables
- JSONB fields for flexible metadata (profile_data, preferences, content)
- Full-text search vectors for courses
- Proper indexes and foreign keys
- EF Core 8 entity configurations
        </div>

        <div class="note-box">
            <strong>üí° Pro Tip:</strong> The frontend Angular prompts from my previous plan remain exactly the same - they will just call your new ASP.NET Core API endpoints instead of the old PHP/Flask APIs. Use them in parallel with these backend sprints.
        </div>

        <h2>üìä Migration Timeline</h2>
        <table>
            <thead>
                <tr>
                    <th>Week</th>
                    <th>Sprints</th>
                    <th>Focus Area</th>
                    <th>Progress</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Week 1</td>
                    <td>1-4</td>
                    <td>Database + Backend Foundation</td>
                    <td>‚ö° 20%</td>
                </tr>
                <tr>
                    <td>Week 2</td>
                    <td>5-8</td>
                    <td>Auth + Course Management</td>
                    <td>‚ö° 40%</td>
                </tr>
                <tr>
                    <td>Week 3</td>
                    <td>9-12</td>
                    <td>EAM + SCORM Integration</td>
                    <td>‚ö° 60%</td>
                </tr>
                <tr>
                    <td>Week 4</td>
                    <td>13-16</td>
                    <td>Reports + Notifications</td>
                    <td>‚ö° 80%</td>
                </tr>
                <tr>
                    <td>Week 5</td>
                    <td>17-20</td>
                    <td>Security + Production Deployment</td>
                    <td>‚ö° 100%</td>
                </tr>
            </tbody>
        </table>

        <h2>üìù Important Notes</h2>
        <ul class="feature-list">
            <li><strong>Total prompts:</strong> 20 sprints √ó multiple prompts per sprint</li>
            <li><strong>Cursor plan required:</strong> $20/month Pro plan for unlimited completions</li>
            <li><strong>GitHub free tier:</strong> 2000 minutes/month for CI/CD</li>
            <li><strong>Database:</strong> PostgreSQL 15+ (supabase.com free tier available)</li>
            <li><strong>Hosting:</strong> Docker containers on any VPS or Azure/AWS free tiers</li>
            <li><strong>Email:</strong> SendGrid free tier (100 emails/day)</li>
            <li><strong>Storage:</strong> AWS S3 free tier (5GB) or Cloudinary free tier</li>
        </ul>

        <div style="text-align: center; margin: 40px 0; padding: 20px; background: #e9ecef; border-radius: 8px;">
            <h3 style="color: #0056b3; margin-bottom: 10px;">üì• Download This Plan</h3>
            <p style="margin-bottom: 20px;">Save this HTML file to keep your complete migration roadmap</p>
            <button onclick="downloadHTML()" class="download-btn">‚¨áÔ∏è Download as HTML File</button>
        </div>

        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #e9ecef; text-align: center; color: #666;">
            <p>ImageGrafix LMS Enterprise Migration Plan ‚Ä¢ ASP.NET Core 8 + Angular 19+ + PostgreSQL + PrimeNG</p>
            <p>¬© 2025 ImageGrafix Software FZCO, Dubai UAE ‚Ä¢ Complete 40-hour migration roadmap for Cursor IDE</p>
        </footer>
    </div>

    <script>
        function downloadHTML() {
            const content = document.getElementById('download-content').innerHTML;
            const styles = document.querySelector('style').innerHTML;
            
            const html = `<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImageGrafix LMS - Complete Migration Plan</title>
    <style>${styles}</style>
</head>
<body>
    <div class="container">${content}</div>
</body>
</html>`;
            
            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ImageGrafix_LMS_Migration_Plan.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>